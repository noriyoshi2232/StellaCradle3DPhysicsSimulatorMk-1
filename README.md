# ステラクレードル Mk-1（実験機）ヒンジ付き惑星重力シミュレーター

## 概要

このシミュレーターは、添付画像の実験装置図に基づいて作成された、回転構造物内の箱型居住区における人工重力実験の3D可視化ツールです。実際の実験装置の構造と動作原理を忠実に再現し、**ヒンジ機構による遠心力応答**と**惑星重力環境**での実験をリアルタイムでシミュレーションします。

## 新機能

### ヒンジ機構
- **上下方向稼働ヒンジ**: 箱が遠心力に応じて外側に持ち上がる
- **重力追従床面**: 床面が常に合成重力方向を向く
- **リアルタイム角度計算**: 遠心力と惑星重力のバランスでヒンジ角度を決定
- **最大角度制限**: 安全性を考慮した60度の角度制限

### 惑星重力環境
- **地球環境**: 9.81 m/s² - 青い惑星と大気効果
- **月環境**: 1.62 m/s² - 灰色の月面と星空
- **火星環境**: 3.71 m/s² - 赤い惑星と薄い大気

### 合成重力シミュレーション
- **惑星重力 + 遠心力**: 2つの力の合成ベクトル計算
- **重力方向可視化**: 合成重力の方向と強度を矢印で表示
- **被験者姿勢制御**: 合成重力方向に応じた人形の姿勢変化

## 実験装置の構成

### 主要コンポーネント
- **回転機構**: 中央の赤い回転軸により全体を回転させる駆動部
- **指示アーム**: 水平に延びる青いアーム（回転半径を決定）
- **アームX・アームY**: 垂直支持アーム（ジンバル機構の支持）
- **ユニバーサルフリー**: 2軸ジンバル機構（箱の姿勢を自由に保持）
- **ヒンジ機構**: 上下方向に稼働する新型ヒンジ（遠心力応答）
- **ゆりかご居住区**: 透明な箱型チャンバー（被験者が入る空間）

### 動作原理
1. **回転駆動**: 中央の回転機構が指示アームを回転させる
2. **遠心力発生**: 回転による遠心力が箱に作用
3. **ヒンジ応答**: 遠心力により箱がヒンジから外側に持ち上がる
4. **重力合成**: 惑星重力と遠心力が合成される
5. **床面追従**: 床面が合成重力方向に自動調整
6. **姿勢安定化**: ユニバーサルフリー機構により箱が自由回転
7. **重力体験**: 箱内の被験者は合成された人工重力を体験

## 物理シミュレーション

### 力学計算
```typescript
// 遠心加速度
const centrifugalAcceleration = angularVelocity² × armLength;

// 合成重力（ベクトル合成）
const totalGravity = √(centrifugalAcceleration² + planetGravity²);

// ヒンジ角度
const hingeAngle = arctan(centrifugalAcceleration / planetGravity);

// 重力方向角度
const gravityAngle = arctan(centrifugalAcceleration / planetGravity);
```

### 惑星重力定数
- **地球**: 9.81 m/s²
- **月**: 1.62 m/s²
- **火星**: 3.71 m/s²

### ヒンジ機構の特徴
- **角度範囲**: 0° ～ 60°（安全制限）
- **応答特性**: 遠心力に比例した角度変化
- **復帰機能**: 回転停止時の重力による自動復帰
- **床面連動**: ヒンジ角度に応じた床面の自動調整

## シミュレーション機能

### 物理シミュレーション
- **正確な合成重力計算**: 惑星重力と遠心力の3Dベクトル合成
- **ヒンジ動作**: 遠心力に応じたリアルタイム角度変化
- **重力可視化**: 合成重力の方向と強度を矢印で表示
- **被験者反応**: 合成重力に応じた被験者の姿勢変化
- **床面追従**: 重力方向への床面の自動調整

### インタラクティブ制御
- **惑星選択**: 地球・月・火星の重力環境切り替え
- **回転制御**: 0-60 RPMの範囲で回転速度を調整
- **視点切替**: 外観視点と箱内視点の切り替え
- **リアルタイム監視**: 物理データの常時表示

### 新機能
- **ヒンジ角度表示**: リアルタイムでのヒンジ角度監視
- **合成重力表示**: 惑星重力と遠心力の合成値
- **重力比較**: 地球重力との比較表示
- **環境切替**: 各惑星の視覚的環境再現

## 教育・研究用途

### 物理教育
- **合成重力の理解**: 複数の力の合成原理
- **ヒンジ機構**: 力学的応答システムの動作
- **惑星重力**: 異なる重力環境での物理現象
- **ベクトル合成**: 力のベクトル合成の視覚化

### 宇宙技術研究
- **惑星間移動**: 異なる重力環境での人体影響
- **人工重力システム**: 宇宙ステーションでの重力生成
- **姿勢制御技術**: 複合環境での安定化システム
- **生体適応研究**: 重力変化に対する人体の適応

### 実験計画支援
- **最適条件探索**: 各惑星での最適な回転条件
- **安全性評価**: ヒンジ角度制限の妥当性確認
- **比較実験**: 惑星間での実験結果比較
- **予測シミュレーション**: 実験結果の事前予測

## 技術仕様

### 物理パラメータ
- **アーム長**: 4.0 m（回転半径）
- **箱サイズ**: 1.2 × 1.2 × 1.2 m
- **回転範囲**: 0-60 RPM
- **ヒンジ角度**: 0-60°
- **重力範囲**: 0-3.0 g（合成重力）

### ヒンジ機構仕様
- **材質**: 高強度金属（視覚的表現）
- **軸受**: 低摩擦ベアリング
- **角度センサー**: リアルタイム角度検出
- **安全機構**: 最大角度制限装置

### 惑星環境仕様
- **地球**: 標準重力、大気効果、青色環境
- **月**: 低重力、真空環境、灰色環境
- **火星**: 中重力、薄大気、赤色環境

## 実験手順

### 基本実験
1. **惑星選択**: 実験対象惑星を選択
2. **初期設定**: 被験者を箱内に配置
3. **回転開始**: 低速から徐々に回転数を上げる
4. **ヒンジ観察**: 角度変化とその影響を記録
5. **データ収集**: 各回転数での合成重力値を記録
6. **安全停止**: 実験終了時は徐々に減速

### 比較実験
- **惑星間比較**: 同一回転数での重力差を測定
- **ヒンジ効果**: ヒンジ有無での体験差を比較
- **角度依存性**: ヒンジ角度と重力感覚の関係
- **長時間実験**: 持続的な合成重力の影響調査

## 安全ガイドライン

### 実験前チェック
- ヒンジ機構の動作確認
- 角度制限装置の点検
- 被験者の健康状態確認
- 緊急停止システムの動作確認

### 実験中監視
- ヒンジ角度の常時監視
- 合成重力値の確認
- 被験者の状態観察
- 装置の異常振動や音の確認

### 緊急時対応
- 即座の回転停止
- ヒンジの安全位置復帰
- 被験者の安全確保
- 医療スタッフへの連絡

## 今後の発展

### 装置改良
- **3軸ヒンジ**: より複雑な姿勢制御
- **可変半径**: アーム長の調整機能
- **多人数対応**: 複数被験者での実験
- **自動制御**: AI による最適制御

### シミュレーション拡張
- **VR対応**: 没入型体験の提供
- **生体反応**: 心拍数や血圧の変化をシミュレーション
- **長期影響**: 継続的な合成重力暴露の影響予測
- **他惑星**: 木星、土星などの高重力環境

## 技術スタック

- **React 18** + TypeScript（UI フレームワーク）
- **Three.js** + React Three Fiber（3D レンダリング）
- **React Three Drei**（3D コンポーネント拡張）
- **Tailwind CSS**（スタイリング）
- **Vite**（開発・ビルドツール）

## インストール・実行

```bash
# 依存関係のインストール
npm install

# 開発サーバー起動
npm run dev

# 本番用ビルド
npm run build
```

このシミュレーターは、実際の実験装置の設計・運用・安全性評価に役立つ包括的なツールとして開発されており、特に**ヒンジ機構による遠心力応答**と**惑星重力環境での実験**に焦点を当てた教育機関や研究機関での活用を想定しています。